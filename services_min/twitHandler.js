var twit=require("twit"),keys=require("../services/secrets/secrets.js"),consumer_key=keys.consumer_key,consumer_secret=keys.consumer_secret,access_token=keys.access_token_key,access_token_secret=keys.access_token_secret,t=new twit({consumer_key:consumer_key,consumer_secret:consumer_secret,access_token:access_token,access_token_secret:access_token_secret});module.exports={getFollowers:function(e,s){function c(e,s){var c=0;console.log("in similarity count");for(var r in e)s.hasOwnProperty(r)&&c++;return c}function r(e,s){return s/e*100}t.get("followers/ids",{screen_name:e},function(e,n){var o,_,i={},u={},a=0,k=0,l=null;e&&console.log("TAKE A BREAK, RATE LIMIT EXCEEDED",e);for(var E=0;E<n.ids.length;E++)i[n.ids[E]]=!0,a++;t.get("followers/ids",{screen_name:s},function(e,s){e&&console.log("TAKE A BREAK, RATE LIMIT EXCEEDED",e);for(var n=0;n<s.ids.length;n++)u[s.ids[n]]=!0,k++;a>k?(l=c(u,i),o=r(a,l),_=r(k,l)):(l=c(i,u),o=r(a,l),_=r(k,l))})})}};